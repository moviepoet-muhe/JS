<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="./js/ajax.js"></script>
    <script>
        /*
            ajax_get({
                url: 'http://localhost:2402/user/test1',
                success(res){
                    console.log(`第一个请求返回的结果：${res}`)
                    ajax_get({
                        url: 'http://localhost:2402/user/test2',
                        querystr: {a: res},
                        success(res){
                            console.log(`第二个请求返回的结果：${res}`)
                            ajax_get({
                                url: 'http://localhost:2402/user/test3',
                                querystr: {b: res},
                                success(res){
                                    console.log(`第三个请求返回的结果：${res}`)
                                }
                            })
                        }
                    })
                }
            })
        */
        pAjax({
            url: 'http://localhost:2402/user/test1'
        })
        .then(res=>{
            console.log(`这是第一次请求的结果：${res}`)
            return pAjax({url: 'http://localhost:2402/user/test2', querystr: {a: res}})
        })
        .then(res=>{
            console.log(`这是第二次请求的结果：${res}`)
            return pAjax({url: 'http://localhost:2402/user/test3', querystr: {b: res}})
        })
        .then(res=>{
            console.log(`这是第三次请求的结果：${res}`)
        })
    </script>
</body>
</html>