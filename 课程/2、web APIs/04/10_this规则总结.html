<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button>快来点我！</button>
    <script>
        // 1、函数调用圆括号时，函数的this是window对象。在严格模式下，是无法指向window，返回的是undefined
        function fn() {
            console.log(this)
        }
        fn()

        // 2、函数作为一个对象的方法，对象打点调用，函数的this就是这个对象
        let obj = {
            name: '王江',
            say() {
                console.log(this)
            }
        }
        obj.say()

        // 3、函数是事件处理函数时，函数的this就是触发这个this的对象（事件调用者）
        document.querySelector('button').onclick = function () {
            console.log(this)
        }

        // 4、定时器调用函数时，this是window对象
        setInterval(function () {
            console.log(this)
        }, 1000)

        setTimeout(function () {
            console.log(this)
        })

        // 5、数组中存放的函数，被数组索引之后加圆括号调用，this就是这个数组
        function fn() {
            console.log(this)
        }
        let arr = ['a', 'b', fn]
        arr[arr.length - 1]()

        // 6、箭头函数没有自己的this，里面如果写了this那么this指向的是上一级代码

        // 7、在全局执行上下文里面查看this，this指向的是window
        console.log(this)
    </script>
</body>

</html>